# ~~ Generated by projen. To modify, edit .projenrc.ts and run "npx projen".

name: Has Active Workflow Failure
description: Checks whether the targeted workflow run has been in a failed state for a set period of time
author: Micah Rus
branding:
  icon: package
  color: blue
inputs:
  per_page:
    description: The number of runs to check (if not provided, it will check the last 50 runs)
    required: false
  owner:
    description: The owner of the repository (if not provided, the current owner will be used)
    required: false
  repo:
    description: The repository name (if not provided, the current repository will be used)
    required: false
  workflow_id:
    description: The workflow that you want to check (if not provided, it will check the release.yml workflow)
    required: true
  github_token:
    description: The GitHub token (if not provided, the environment variable GITHUB_TOKEN will be used instead)
    required: true
  branch:
    description: The branch to check (if not provided, "main" will be used)
    required: false
  days_to_look_back:
    description: The number of days to look back for workflow failures (if not provided, defaults to 7 days)
    required: false
  check_outside_window:
    description: Whether to check the most recent run when no runs are found within the lookback window (if not provided, defaults to true)
    required: false
outputs:
  has_active_failure:
    description: True/False to represent if the workflow has been in a failed state for a set period of time
runs:
  using: node20
  main: action/index.js
